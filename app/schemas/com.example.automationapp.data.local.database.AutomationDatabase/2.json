{
  "formatVersion": 1,
  "database": {
    "version": 2,
    "identityHash": "4f8335ac14ac9db78ad2413f287b89e2",
    "entities": [
      {
        "tableName": "automation_rules",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, `name` TEXT NOT NULL, `description` TEXT NOT NULL, `is_enabled` INTEGER NOT NULL, `priority` INTEGER NOT NULL, `execution_count` INTEGER NOT NULL, `last_executed_at` INTEGER, `created_at` INTEGER NOT NULL, `updated_at` INTEGER NOT NULL)",
        "fields": [
          {
            "fieldPath": "id",
            "columnName": "id",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "name",
            "columnName": "name",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "description",
            "columnName": "description",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "isEnabled",
            "columnName": "is_enabled",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "priority",
            "columnName": "priority",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "executionCount",
            "columnName": "execution_count",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "lastExecutedAt",
            "columnName": "last_executed_at",
            "affinity": "INTEGER"
          },
          {
            "fieldPath": "createdAt",
            "columnName": "created_at",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "updatedAt",
            "columnName": "updated_at",
            "affinity": "INTEGER",
            "notNull": true
          }
        ],
        "primaryKey": {
          "autoGenerate": true,
          "columnNames": [
            "id"
          ]
        },
        "indices": [
          {
            "name": "index_automation_rules_name",
            "unique": true,
            "columnNames": [
              "name"
            ],
            "orders": [],
            "createSql": "CREATE UNIQUE INDEX IF NOT EXISTS `index_automation_rules_name` ON `${TABLE_NAME}` (`name`)"
          }
        ]
      },
      {
        "tableName": "triggers",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, `rule_id` INTEGER NOT NULL, `type` TEXT NOT NULL, `parameters` TEXT NOT NULL, `logical_operator` TEXT NOT NULL, `is_active` INTEGER NOT NULL, `created_at` INTEGER NOT NULL, FOREIGN KEY(`rule_id`) REFERENCES `automation_rules`(`id`) ON UPDATE CASCADE ON DELETE CASCADE )",
        "fields": [
          {
            "fieldPath": "id",
            "columnName": "id",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "ruleId",
            "columnName": "rule_id",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "type",
            "columnName": "type",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "parameters",
            "columnName": "parameters",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "logicalOperator",
            "columnName": "logical_operator",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "isActive",
            "columnName": "is_active",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "createdAt",
            "columnName": "created_at",
            "affinity": "INTEGER",
            "notNull": true
          }
        ],
        "primaryKey": {
          "autoGenerate": true,
          "columnNames": [
            "id"
          ]
        },
        "indices": [
          {
            "name": "index_triggers_rule_id",
            "unique": false,
            "columnNames": [
              "rule_id"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_triggers_rule_id` ON `${TABLE_NAME}` (`rule_id`)"
          },
          {
            "name": "index_triggers_type",
            "unique": false,
            "columnNames": [
              "type"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_triggers_type` ON `${TABLE_NAME}` (`type`)"
          }
        ],
        "foreignKeys": [
          {
            "table": "automation_rules",
            "onDelete": "CASCADE",
            "onUpdate": "CASCADE",
            "columns": [
              "rule_id"
            ],
            "referencedColumns": [
              "id"
            ]
          }
        ]
      },
      {
        "tableName": "actions",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, `rule_id` INTEGER NOT NULL, `type` TEXT NOT NULL, `parameters` TEXT NOT NULL, `sequence` INTEGER NOT NULL, `delay_ms` INTEGER NOT NULL, `is_enabled` INTEGER NOT NULL, `created_at` INTEGER NOT NULL, FOREIGN KEY(`rule_id`) REFERENCES `automation_rules`(`id`) ON UPDATE CASCADE ON DELETE CASCADE )",
        "fields": [
          {
            "fieldPath": "id",
            "columnName": "id",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "ruleId",
            "columnName": "rule_id",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "type",
            "columnName": "type",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "parameters",
            "columnName": "parameters",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "sequence",
            "columnName": "sequence",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "delayMs",
            "columnName": "delay_ms",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "isEnabled",
            "columnName": "is_enabled",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "createdAt",
            "columnName": "created_at",
            "affinity": "INTEGER",
            "notNull": true
          }
        ],
        "primaryKey": {
          "autoGenerate": true,
          "columnNames": [
            "id"
          ]
        },
        "indices": [
          {
            "name": "index_actions_rule_id",
            "unique": false,
            "columnNames": [
              "rule_id"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_actions_rule_id` ON `${TABLE_NAME}` (`rule_id`)"
          },
          {
            "name": "index_actions_type",
            "unique": false,
            "columnNames": [
              "type"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_actions_type` ON `${TABLE_NAME}` (`type`)"
          },
          {
            "name": "index_actions_rule_id_sequence",
            "unique": false,
            "columnNames": [
              "rule_id",
              "sequence"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_actions_rule_id_sequence` ON `${TABLE_NAME}` (`rule_id`, `sequence`)"
          }
        ],
        "foreignKeys": [
          {
            "table": "automation_rules",
            "onDelete": "CASCADE",
            "onUpdate": "CASCADE",
            "columns": [
              "rule_id"
            ],
            "referencedColumns": [
              "id"
            ]
          }
        ]
      },
      {
        "tableName": "execution_logs",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, `rule_id` INTEGER NOT NULL, `executed_at` INTEGER NOT NULL, `success` INTEGER NOT NULL, `status` TEXT NOT NULL, `error_message` TEXT, `error_code` TEXT, `execution_duration_ms` INTEGER NOT NULL, `triggered_by` TEXT, `actions_executed` INTEGER NOT NULL, `actions_failed` INTEGER NOT NULL, `details` TEXT, FOREIGN KEY(`rule_id`) REFERENCES `automation_rules`(`id`) ON UPDATE CASCADE ON DELETE CASCADE )",
        "fields": [
          {
            "fieldPath": "id",
            "columnName": "id",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "ruleId",
            "columnName": "rule_id",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "executedAt",
            "columnName": "executed_at",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "success",
            "columnName": "success",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "status",
            "columnName": "status",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "errorMessage",
            "columnName": "error_message",
            "affinity": "TEXT"
          },
          {
            "fieldPath": "errorCode",
            "columnName": "error_code",
            "affinity": "TEXT"
          },
          {
            "fieldPath": "executionDurationMs",
            "columnName": "execution_duration_ms",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "triggeredBy",
            "columnName": "triggered_by",
            "affinity": "TEXT"
          },
          {
            "fieldPath": "actionsExecuted",
            "columnName": "actions_executed",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "actionsFailed",
            "columnName": "actions_failed",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "details",
            "columnName": "details",
            "affinity": "TEXT"
          }
        ],
        "primaryKey": {
          "autoGenerate": true,
          "columnNames": [
            "id"
          ]
        },
        "indices": [
          {
            "name": "index_execution_logs_rule_id",
            "unique": false,
            "columnNames": [
              "rule_id"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_execution_logs_rule_id` ON `${TABLE_NAME}` (`rule_id`)"
          },
          {
            "name": "index_execution_logs_executed_at",
            "unique": false,
            "columnNames": [
              "executed_at"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_execution_logs_executed_at` ON `${TABLE_NAME}` (`executed_at`)"
          },
          {
            "name": "index_execution_logs_success",
            "unique": false,
            "columnNames": [
              "success"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_execution_logs_success` ON `${TABLE_NAME}` (`success`)"
          },
          {
            "name": "index_execution_logs_rule_id_executed_at",
            "unique": false,
            "columnNames": [
              "rule_id",
              "executed_at"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_execution_logs_rule_id_executed_at` ON `${TABLE_NAME}` (`rule_id`, `executed_at`)"
          }
        ],
        "foreignKeys": [
          {
            "table": "automation_rules",
            "onDelete": "CASCADE",
            "onUpdate": "CASCADE",
            "columns": [
              "rule_id"
            ],
            "referencedColumns": [
              "id"
            ]
          }
        ]
      }
    ],
    "setupQueries": [
      "CREATE TABLE IF NOT EXISTS room_master_table (id INTEGER PRIMARY KEY,identity_hash TEXT)",
      "INSERT OR REPLACE INTO room_master_table (id,identity_hash) VALUES(42, '4f8335ac14ac9db78ad2413f287b89e2')"
    ]
  }
}